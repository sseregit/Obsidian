# 스로틀링(Throttling)
- API 요청을 제어하거나 제한하는 기법
- 과도한 요청으로 인해 서버가 과부하를 일으키지 않도록 트래픽을 관리하는 핵심적인 방법
- 한정된 자원을 효율적으로 사용하고, 서비스 품질을 유지하며, 악성 트래픽이나 DDos(Distributed Denial-of-Service)공격으로부터 시스템을 보호하는 데에도 큰 역할을 한다.
### 주요 방식
#### 1. 고정 윈도우(Fixed Window) 방식
- 일정 시간(1분, 1시간 등)을 윈도우로 정의하고, 그 시간 내 발생할 수 있는 최대 요청 수를 정해 제한한다.
##### 장점
- 구현이 단순하고 이해하기 쉽다
##### 단점
- 윈도우 경계에 가까워질수록 갑작스런 요청 몰림이 있을 수 있다.
#### 2. 슬라이딩 윈도우 (Sliding Window) 방식
- 고정 윈도우의 경계 문제를 해결하기 위해, 요청의 발생 시간을 기록하여 ‘슬라이딩’ 하면서 현재 시점부터 특정 기간 동안의 요청 수를 제한한다.
##### 장점
- 경계 구간에서의 급작스런 요청 몰림을 방지할 수 있다.
##### 단점
- 타임 스탬프나 큐를 이용해 요청 시간을 추적해야 하므로, 구현이 조금 복잡해질 수 있다.
#### 3. 토큰 버킷(Token Bucket) 방식
- 일정 시간마다 ‘토큰’이 버킷에 적립되고, 요청 처리 시 토큰을 소모한다. 토큰이 없으면 요청을 처리할 수 없다.
##### 장점
- 요청이 없는 순간에는 토큰이 누적되며, burst 트래픽(짧은 시간에 몰리는 요청)을 어느 정도 처리할 수 있다.
##### 단점
- 장기적으로는 설정된 토큰 비율을 초과하는 트래픽이 계속 들어오면 한계가 있다.
#### 4. 리키 버킷(Leaky Bucket) 방식
- 물이 새어 나가는 ‘구멍 뚫린 양동이’를 비유한 방식으로, 입력되는 요청이 버킷에 저장되며 일정 속도로만 처리된다.
##### 장점
- 초과 요청은 큐에 쌓이므로, 시스템이 한꺼번에 과부하되는 상황을 방지해준다.
##### 단점
- 큐가 한도에 다다르면 요청 거부가 발생할 수 있으므로 임계값과 처리율을 잘 조정해야 한다.
