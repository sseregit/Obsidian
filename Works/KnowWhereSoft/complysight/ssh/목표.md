---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠== You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'


# Excalidraw Data

## Text Elements
v1

Scanner를 활용해서 터미널로 커맨드 날려보기

1 ~ 6처리해야함.

병렬처리는 v1에서 스킵 ^fUypE9z1

sshj 사용 (가장 최근까지 업데이트하고 안정적)

목표
1. SSH 접근 (ID/패스워드 및 키 기반 인증 모두 고려)
        1-1. 아이디/패스워드 방식 접속
        1-2. 공개키 기반 접속 (PEM/PKCS 형식 등 다양한 키 포맷 처리)
        1-3. 호스트 키 검증 방식 (KnownHosts 방식 적용)
        1-4. 인증 실패 시 재시도, 실패 횟수 제한 정책
2. 접속 후 명령어 실행
        2-1. 단일 명령 실행 및 결과 확인
        2-2. 여러 명령 순차 실행 또는 병렬 실행
        2-3. 명령 실행 타임아웃 설정
        2-4. stdout, stderr 분리 수집
3. 실행 결과 확인 및 출력
        3-1. 명령 결과 콘솔 출력
        3-2. 실행 결과 로그 저장 또는 파일 저장
        3-3. 결과를 JSON 또는 객체로 구조화
        3-4. 에러 발생 시 메시지와 코드 포함
4. 명령 반복 실행 (입력 기반)
        4-1. Scanner로 명령 반복 입력 처리
        4-2. 동일 명령 반복 시 로직 최적화
        4-3. 복수 명령 입력 시 처리 방식 분리
        4-4. 미리 정의된 명령 세트 또는 명령 템플릿 지원
5. 멀티스레드를 활용한 병렬 SSH 실행
        5-1. ExecutorService 기반 스레드풀 구성
        5-2. 스레드풀 크기 및 종료 정책 설정
        5-3. 스레드당 SSHClient 인스턴스 분리
        5-4. 서버 설정 확인 (MaxSessions, MaxStartups)
        5-5. 실제 동시 접속 수치 측정 (성능 테스트)
6. 예외 처리
        6-1. IOException, AuthenticationException, TimeoutException 등 처리
        6-2. 재시도 전략 적용 (예: Exponential Backoff)
        6-3. 자원 해제 보장 (try-with-resources 또는 finally)
        6-4. 오류 상황별 로그 분리 및 코드화
7. 실무 프로젝트 적용을 위한 구조 설계
        7-1. 명령 실행 인터페이스 추상화 (예: CommandExecutor)
        7-2. Spring 기반 비동기 처리 적용 여부 결정
        7-3. 서비스/레포지토리/명령 실행 구조 분리
        7-4. 결과 DTO 또는 리포트 객체로 변환 구조 설계
        7-5. 테스트 환경 구성 (Mock SSH 서버 포함)
8. 운영 및 유지보수 고려 사항
        8-1. 파일 전송 기능 필요 시 SFTP/SCP 처리
        8-2. CLI 툴 또는 API 형태로 외부 제공 여부 검토
        8-3. 실행 이력 및 감사 로그 처리
        8-4. 배포/패키징 전략 (예: docker, native-image 등)
        8-5. 모니터링, 에러 통계, 접속 통계 구조 설계 ^cwRerOYN

%%
## Drawing
```compressed-json
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
```
%%