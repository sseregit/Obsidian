# 1. 백엔드 애플리케이션 성능 테스트하기
## 강의 소개
==강의 소개==
## 성능 테스트는 어떤 상황에서 왜 하는가?
### 트래픽
- 네트워크를 통해 흐르는 데이터
==성능 테스트는 왜하는가? 많은 트래픽이 생길 경우를 테스트해보거나 실제 서버를 운영하는 환경에서의 성능을 테스트해서 대처할 수 있다.==
****
# 2. 성능 테스트를 시작하기 전 알아야 할 배경지식
## 지연시간(Latency)과 처리량(Throughput)
### 지연시간(Latency)
- 클라이언트가 요청을 보낸 후 응답을 받기까지 걸린 시간 
- 주로 ms, s단위
### 처리량(Throughput)
- 단위 시간 동안 몇건의 요청을 처리할 수 있는가?
- 주로 tps(Transaction Per Second) 단위
### 대역폭(Bandwidth)
- 네트워크가 단위시간 동안 전송할 수 있는 최대한의 처리량을 의미
- 네트워크에서는 유의미하게 사용될 수 있는 개념이지만 백엔드 애플리케이션은 여러 요소들이 간섭을 주기 때문에 정확한 대역폭을 측정할 수 없다.
### 성능 테스트 목표
- 성능을 측정할 때는 이 2가지를 모두 측정해야 한다.
- ex) **초당 3000개의 요청**(Throughput)이 들어올 때 99%의 요청이 **100ms 미만으로 처리**(Latency)되어야 한다.
#### 지연시간과 처리량을 동시에 목표로 삼아야 하는 이유
- 요청을 초당 1개만 처리하면 지연시간이 아주 낮게 나온다.
- 처리량을 늘리면 지연시간도 함께 늘어날 가능성이 높다.
## 운영체제와 서버 자원
### 운영체제(OS; Operating System)
- 서버의 물리적인 자원을 관리하며 프로세스라는 단위로 애플리케이션을 실행시킨다.
#### 프로세스
- 서버가 가지고 있는 CPU, 메모리, 디스크를 필요하다면 할당받아 작업을 처리한다.
#### 프로그램
- 디스크에 저장되어 있는 실행될 수 있는 파일이나 소프트웨어 집합을 프로그램이라고 부른다.
### 서버자원
#### 실제 애플리케이션에서 어떤 동작이 어떤 요소를 주로 사용하는지
- CPU
	- 계산 작업, 이미지, 영상 인코딩
	- 암호화, 해시화
- RAM
	- CPU를 많이 쓰는 경우 함께 많이 쓰는 경우가 많다
	- 인스턴스 대량 생성, 캐싱, 컬렉션 객체등
- 디스크
	- 파일 입출력, 로그 대량 발생시
	- (데이터베이스에서)데이터 대량 입출력
## 네트워크
- 성능 테스트에서 네트워크가 차지하는 비중은 크다
### 대역폭
- 가장 대역폭이 낮은 회선에 맞춰진다
	- 100 - 200 - 300 - 200 이면 100에 맞춰지는 식
## 데이터베이스

데이터베이스도 일종의 애플리케이션이다!
### 데이터 베이스의 지연시간과 처리량의 관계
#### 데이터베이스의 지연시간(Latency)가 길어지는 상황
1. 많은 요청이 들어올 때
2. 많은 데이터 중 필요한 데이터를 찾아야할 때
3. 한번에 많은 데이터를 응답으로 줘야할 때
4. 락이 너무 자주 걸리는 경우
## 스레드 풀과 커넥션 풀
==스레드 풀과 커넥션 풀의 간단한 개념==
## 성능 테스트의 방향성
### 성능 테스트의 방향성
#### 실무에서의 성능 테스트
- 예상되는 트래픽을 감당하기 위해 성능 테스트, 튜닝을 진행하고 필요하다면 충분한 인프라 자원을 투입할 수 있다.
#### 실무가 아닌 환경에서의 성능 테스트
1. 우선 한건씩 요청을 보내서 지연시간(Latency)가 어느정도 나오는지 테스트해보기
2. 처리량(Throughput)을 높이면서 현재 인프라 구성에서 지연시간이 치솟는 지점 찾아보기
3. 어떤 부분이 병목이 되는건지 가설을 세워보고 서버 자원 모니터링, 로그 등을 통해 병목 지점 탐색
4. 병목을 해결할 수 있는 방법 적용
****
# 3. Artillery
## Artillery 소개
==Artillery 간단한 설치 영상 및 Artillery yaml 파일 살펴보기==
## Artillery로 간단한 성능 테스트 진행해보기
`arillery run --output report.json test-config.yml`
- 시작 command
`artillery report report.json --output report.html`
- 위에서 생성한 `report.json`을 html로 변환
==시작하고 시작한 report.json을 html로 변환하기==
## 성능 테스트 결과 해석하기

****
# 4. Artillery 활용하기

****
# 5. 간단한 성능 개선 경험해보기

****
# 6. 부록

****