# 강의 소개
****
# 스프링 부트 살펴보기

## 스프링 부트 소개

### 스프링 부트
- 스프링을 기반으로 실무 환경에 사용 가능한 수준의 **독립실행형 애플리케이션**을 복잡한 고민 없이 빠르게 작성할 수 있게 도와주는 여러가지 도구의 모음이다.

**스프링 != 스프링 부트**

### 스프링 부트의 핵심 목표
- 매우 빠르고 광범위한 영역의 스프링 개발 경험을 제공
- 강한 주장을 가지고 즉시 적용 가능한 기술 조합을 제공하면서, 필요에 따라 원하는 방식으로 손쉽게 변형 가능
- 프로젝트에서 필요로 하는 다양한 비기능적인 기술(내장형 서버, 보안, 메트릭, 상태 체크, 외부 설정 방식 등) 제공
- 코드 생성이나 XML 설정을 필요로 하지 않음

## 스프링 부트의 역사

## Containerless

### 컨테이너리스 웹 애플리케이션 아키텍처
- Serverless 와 유사하다.

## Opinionated

### 스프링 프레임워크의 설계 철학
- 극단적인 유연함 추구
- 다양한 관점을 수용
- Not opinionated
- 수많은 선택지를 다 포용
- 하지만...

### 스프링 부트의 설계 철학
- Opinionated 
	- 자기 주장이 강한, 자기 의견을 고집 하는, 독선적인
- 일단 정해주는 대로 빠르게 개발하고 고민은 나중에
- 스프링을 잘 활용하는 뛰어난 방법을 제공

### 사용 기술과 의존 라이브러리 결정
- 업계에서 검증된 스프링 생태계 프로젝트, 표준 자바 기술, 오픈소스 기술의 종류와 의존관계, 사용 버전을 정해준다.
- 각 기술을 스프링에 적용하는 방식(DI 구성)과 디폴트 설정값 제공

### 유연한 확장
- 스프링 부트에 내장된 디폴트 구성을 커스터마이징 하는 매우 자연스럽고 유연한 방법 제공
- 스프링 부트가 스프링을 사용하는 방식을 이해한다면 언제라도 스프링 부트를 제거하고 원하는 방식으로 재구성 가능
- 스프링 부트처럼 기술과 구성을 간편하게 제공하는 나만의 모듈 작성

## 스프링 부트의 이해

### 스프링 부트를 이용한 개발 방법
- 부트가 결정한 기술과 구성, 디폴트 설정을 수용
- 외부 설정 파일을 이용한 설정 변경 방법을 활용
- 아주 빠르게 개발을 시작할 수 있다.
- 하지만 ...

### 스프링 부트를 이용한 개발의 오해와 한계
- 애플리케이션 기능 코드만 잘 작성하면 된다.
- 스프링을 몰라도 개발을 잘 할 수 있다.
- 스프링 부트가 직접적으로 보여주지 않는 것은 몰라도 된다.
- 뭔가 기술적인 필요가 생기면 검색을 해서 해결한다.

### 스프링 부트를 이해하게 되면
- 스프링 부트가 스프링의 기술을 어떻게 활용하는지 배우고 응용할 수 있다.
- 스프링 부트가 선택한 기술, 자동으로 만들어주는 구성, 디폴트 설정이 어떤 것인지 확인할 수 있다.
- 필요할 때 부트의 기본 구성을 수정하거나, 확장할 수 있다.
- 나만의 스프링 부트 모듈을 만들어 활용할 수 있다.

### 강의의 목표
- 스프링 부트로 만든 스프링 애플리케이션의 기술과 구성 정보를 직접 확인할 수 있다.
- 적용 가능한 설정 항목을 파악할 수 있다.
- 직접 만든 빈 구성 정보를 적용하고, 그에 따른 변화를 분석할 수 있다.
- 스프링 부트의 기술을 꼼꼼히 살펴볼 수 있다.
****
# 스프링 부트 시작하기

## 개발환경 준비

## 프로젝트 생성

## Hello 컨트롤러

## Hello API 테스트

## HTTP 요청과 응답

### HTTP

#### Request
- Request Line: Method, Path, HTTP Version
- Headers
- Message Body
#### Response
- Status Line: HTTP Version, Status Code, Status Text
- Headers
- Message Body
****
# 독립 실행형 서블릿 애플리케이션

## Containerless 개발 준비

## 서블릿 컨테이너 띄우기

## 서블릿 등록

## 서블릿 요청 처리

## 프론트 컨트롤러

## 프론트 컨트롤러로 전환

## Hello 컨트롤러 매핑과 바인딩
****
# 독립 실행형 스프링 애플리케이션

## 스프링 컨테이너 사용

## 의존 오브젝트 추가

## Dependency Injection

## 의존 오브젝트 DI 적용

## DispatcherServlet으로 전환

## 애노테이션 매핑 정보 사용

## 스프링 컨테이너로 통합

## 자바코드 구성 정보 사용

## @Component 스캔

## Bean의 생명주기 메소드

## SpringBootApplication
****
# DI와 테스트, 디자인 패턴

## 테스트 코드를 이용한 테스트

## DI와 단위 테스트

## DI를 이용한 Decorator, Proxy 패턴
****
# 자동 구성 기반 애플리케이션

## 메타 애노테이션과 합성 애노테이션

### 메타 애노테이션
- 기능적으로는 차이가 없다.
- 다른 이름을 활용해 이름을 통한 추가 정보를 제공할 수 있다.
- 애노테이션 기능을 확장할 수 있다.

### 합성 애노테이션
- 메타 애노테이션을 하나 이상 적용할 경우

## 합성 애노테이션의 적용

## 빈 오브젝트의 역할과 구분

### 애플리케이션 빈
- 개발자가 어떤 빈을 사용하겠다라는 것을 명시적으로 구성정보를 제공한것 
i)
- 애플리케리션 기능, 비즈니스 로직, 도메인 로직등을 담고 있는 빈

#### 애플리케이션 인프라스트럭처 빈 (AutoConfiguration)
- 기술적인 기능

### 컨테이너 인프라스트럭처 빈
- 스프링 컨테이너 자신이거나 스프링 컨테이너가 계속 기능을 확장하면서 추가해온것 들을 빈으로 등록시켜 사용하는 것들
- 개발자가 직접 등록하지는 않음

## 인프라 빈 구성 정보의 분리

## 동적인 자동 구성 정보 등록 

## 자동 구성 정보 파일 분리

## 자동 구성 애노테이션 적용

```java
@Configuration(proxyBeanMethods = false)
public @interface MyAutoConfiguration {
}
```

### proxyBeanMethods = true
- 해당 Configuration이 직접 빈으로 등록되는 것이 아니라 프록시 오브젝트를 앞에 하나 두고 프록시가 빈으로 등록 된다. 
## @Configuration과 proxyBeanMethods

****
# 조건부 자동 구성

## 스타터와 Jetty 서버 구성 추가

스프링 부트는 Tomcat, Jetty, Undertow를 사용할 수 있다.

리액티브의 Netty도 사용 가능

모두 starter가 존재한다.

## @Conditional과 Condition

## @Conditional 학습테스트

## 커스톰 @Conditional

## 자동 구성 정보 대체하기

## 스프링 부트의 @Conditional

### Class Conditions
- 지정한 클래스의 프로젝트내 존재를 확인해서 포함 여부를 결정한다

#### 사용 주의점
- @Configuration 클래스 레벨에서 사용하지만 @Bean 메소드에도 적용이 가능하다 단, 클래스의 레벨의 검증 없이 @Bean 메소드에만 적용하면 불필요하게 @Configuration 클래스가 빈으로 등록 되기 때문에, **클래스 레벨 사용을 우선해야 한다.**

### Bean Conditions
- 빈의 존재 여부를 기준으로 포함여부를 결정한다. 빈의 타입 또는 이름을 지정할 수 있따. 지정된 빈 정보가 없으면 메소드의 리턴 타입을 기준으로 빈의 존재여부를 체크한다.

#### 사용 주의
- 컨테이너에 등록된 빈 정보를 기준으로 체크하기 때문에 자동 구성 사이에 적용하려면 @Configuration 클래스의 적용 순서가 중요하다.
- 개발자가 직접 정의한 커스톰 빈 구성 정보가 자동 구성 정보 처리보다 우성하기 때문에 이관계에 적용하는 것은 안전하다. 반대로 커스톰 빈 구성 정보에 적용하는 건 피해야 한다.

##### @Configuration 클래스 레벨의 @ConditionalOnClass와 @Bean 메소드 레벨의 @ConditionalOnMissingBean 조합은 가장 대표적으로 사용되는 방식이다.
- 클래스의 존재로 해당 기술의 사용 여부를 확인하고, 직접 추가한 커스톰 빈 구성의 존재를 확인해서 자동 구성의 빈 오브젝트를 이용할지 최종 결정한다.

### Property Conditions

### Resource Conditions

### Web Application Conditions

### SpEL Expression Conditions
****
# 외부 설정을 이용한 자동 구성

## Environment 추상화와 프로퍼티

### StandardEnvironment
#### System Properties (4)
- 자바에서 지정
#### System Environment Variables (5)
- OS의 환경변수

### StandardServletEnvironment
- Servlet Container를 사용하는 환경일 경우
#### ServletConfig Parameters (1)
#### ServletContext Parameters (2)
#### JNDI (3)

#### @PropertySource (6)

### SpringBoot
#### application.properties, xml, yml (7)

## 자동 구성에 Environment 프로퍼티 적용

### ApplicationRunner
- 인터페이스를 구현한 클래스를 빈으로 등록하면 모든 스프링 부트의 초기화 작업이 끝나고 난 뒤에 ApplicationRunner의 run메서드를 실행해준다.

## @Value와 PropertySourcesPlaceholderConfigurer

## 프로퍼티 클래스의 분리

## 프로퍼티 빈의 후처리기 도입
****
# Spring JDBC 자동 구성 개발

## 자동 구성 클래스와 빈 설계

## DataSource 자동 구성 클래스
****
# 스프링 부트 자세히 살펴보기
****
# 업데이트
****
