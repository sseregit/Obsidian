# 스프링 개발 시작하기

## 개발환경 준비

### [SDKMAN](https://sdkman.io/)
`sdk list java`
`sdk use java (java version)`
- folder 기준
- 나갔다 들어오면 다시 default로 변한다.
`sdk env init`
- 해당 폴더에 java version을 적용한다.

### [HTTPie](https://httpie.io/)

****
# 오브젝트와 의존관계

## 오브젝트와 의존관계

### 오브젝트 Object

#### 오브젝트
- 실제로 프로그램을 실행하면 그때 만들어져서 그때 동작하는 무엇인가

#### 클래스
- 오브젝트를 만들어내기 위해서 필요한 것

#### 클래스의 인스턴스 == 오브젝트
- 인스턴스
	- 추상적인 것(클래스)에 대한 실체
- 자바에서는 배열(Array)도 오브젝트

#### 오브젝트를 설명하는 기술적 완벽한 설명
- 자바에서 오브젝트는 클래스의 인스턴스 또는 배열이다.

### 의존관계 Dependency
- Client ---> Supplier
- Supplier가 변경되면 Client 코드가 영향을 받는다.
- 클래스 레벨의 의존관계와 런타임 레벨의 의존관계가 다를 수 있다 스프링이 제공해주는 핵심 원리의 바탕이 된다.

## 관심사의 분리

### 관심사의 분리
- Separation of Concerns (SoC)

## 상속을 통한 확장

### Template Method Pattern

## 클래스의 분리

## 인터페이스 도입

## 관계설정 책임의 분리

## 오브젝트 팩토리

## 원칙과 패턴

### 원칙
- 객체 지향 설계 원칙

#### 개방 폐쇄 원칙
- Open-Closed Principle (OCP)
- 클래스나 모듈은 확장에는 열려 있어야 하고 변경에는 닫혀 있어야 한다.

#### 높은 응집도와 낮은 결합도
- High Coherence and low coupling

##### 높은 응집도
- 하나의 모듈이 하나의 책임 또는 관심사에 집중되어 있다는 뜻.
- 변화가 일어날 때 해당 모듈에서 변하는 부분이 크다.

##### 낮은 결합도
- 책임과 관심사가 다른 모듈과는 낮은 결합도
- 즉 느슨하게 연결된 형태를 유지하는 것이 바람직하다.

#### 제어의 역전
- Inversion of Control
- 제어권 이전을 통한 제어관계 역전 - 프레임워크의 기본 동작 원리

### 패턴
- 객체 지향 디자인 패턴

#### 전략 패턴
- Strategy Pattern
- 자신의 기능 맥락(context)에서, 필요에 따라서 변경이 필요한 알고리즘을 인터페이스를 통해 통째로 외부로 분리시키고, 이를 구현한 구체적인 알고리즘 클래스를 필요에 따라 바꿔서 사용할 수 있게 하는 디자인 패턴

### 스프링 사용이 주는 혜택
- 스프링이 주는 혜택은 이러한 원칙과 패턴이 잘 녹아져 있어 작성하는 코드에 잘 녹아져 있어 만드는 코드의 품질을 높이고 유지보수성을 뛰어나게 해주고 잘 확장되게 하고 그러면서도 불필요한 변경에는 닫혀있어 이코드를 잘 끌고 갈수 있게해준다

## 스프링 컨테이너와 의존관계 주입

## 구성정보를 가져오는 다른 방법

## 싱글톤 레지스트리

### Singleton Registry

## DI와 디자인 패턴 (1)

오브젝트 합성을 이용하는 디자인 패턴을 적용할 때 **스프링 의존관계 주입(Dependency Injection)** 을 사용

### 데코레이터(Decorator) 디자인 패턴
- 오브젝트에 부가적인 기능/책임을 동적으로 부여한다.

## DI와 디자인 패턴 (2)

## 의존성 역전 원칙(DIP)

### 의존성 역전 원칙
- Dependency Inversion Principle
- **상위 수준의 모듈은 하위 수준의 모듈에 의존해서는 안된다.** 둘 모두를 추상화에 의존해야 한다.
- 추상화는 구체적인 사항에 의존해서는 안된다. 구체적인 사항은 추상화에 의존해야 한다.
- 인터페이스 소유권의 역전이 필요하다.
	- Separated Interface 패턴
****
# 테스트

## 자동으로 수행되는 테스트

### **작은 크기의** 자동 수행되는 테스트
- Automated Test

### 개발자가 만드는 테스트
- 개발한 코드에 대한 검증 기능을 코드로 작성한다.
- 자동으로 테스트를 수행하고 결과를 확인한다.
- 테스팅 프레임워크를 활용한다.
- 테스트 작성과 실행도 개발 과정의 일부이다.

## JUnit 테스트 작성

### JUnit 5

## PaymentService 테스트

## 테스트의 구성 요소

### 테스트의 구성요소

#### 테스트 대상 (SUT)

#### 협력자 COLLABORATOR

#### STUB
- Imposter
- Test Double (대역)

## 테스트와 DI (1)

## 테스트와 DI (2)

### 수동 DI를 이용하는 테스트
- 테스트용 협력자(Collaborator)/의존 오브젝트를 테스트 대상에 직접 주입하고 테스트

### 스프링 DI를 이용하는 테스트
- 테스트용 협력자(Collaborator)/의존 오브젝트를 스프링의 구성 정보를 이용해서 지정하고 컨테이너로 부터 테스트 대상을 가져와서 테스트

#### @ContextConfiguration
#### @Autowired

## 학습 테스트

### 학습 테스트
- 직접 만들지 않은 코드, 라이브러리, 레거시 시스템에 대한 테스트
- 테스트 대상의 사용방법을 익히고 동작방식을 확인하는데 유용하다.
- 외부 기술, 서비스가 버전이 올라갔을 때 이전과 동일하게 동작하는지 확인할 수도 있다.

## Clock을 이용한 시간 테스트

## 도메인 오브젝트 테스트
****
# 탬플릿
****
# 예외
****
# 서비스 추상화
****
# 스프링 학습 방법
****
