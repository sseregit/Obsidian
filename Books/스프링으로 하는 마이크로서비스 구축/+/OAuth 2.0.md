# OAuth 2.0
- 권한 부여를 위해 광범위하게 사용되는 공개 표준
- 사용자에게 권한을 위임받은 서드파티 클라이언트 애플리케이션이 사용자를 대신해 보안 리소스에 접근할 수 있게 한다.
### 권한 위임
- 서드파티 클라이언트 애플리케이션이 사용자를 대행해 API 호출과 같은 작업을 할 수 있도록 권한을 부여하는 것
### 개념 정리
#### 자원 소유자(resource owner)
- 최종 사용자
#### 클라이언트(client)
- 최종 사용자의 권한을 위임받아 보안 API를 호출하는 서드파티 애플리케이션
#### 자원 서버(resource server)
- 보호 대상 자원에 대한 API를 제공하는 서버
#### 권한 부여 서버(authorization server)
- 자원 소유자를 인증하고 자원 소유자의 승인을 받아서 클라이언트에게 토큰을 발급한다. 사용자 정보 관리 및 사용자 인증은 보통 ID 공급자에게 위임한다.
## grant flow
### 권한 코드 승인 흐름
1. 웹 브라우저를 통해 사용자를 권한 부여 서버로 보낸다.
2. 사용자 인증하고 사용자의 동의를 요청한다.
3. **권한 코드**와 함께 **리다이렉트 URI**로 권한 코드를 전송한다.
	- 권한 코드는 유지 시간도 짧고 단 한번만 허용한다.
4. 전달받은 권한 코드를 **서버 측**에서 **Client ID + Client Scret + 권한 코드**를 함께 보낸다. 매우 민감한 정보이기 때문에 서버 측에서 작동해야한다.
5. 권한 부여 서버에서 접근토큰을 받거나 함께 재발급 토큰도 받을 수 있다. (인증이 되어야만)
6. 클라이언트는 접근 토큰을 활용해 보안 API에 요청하고 보안 API 서버는 매번 토큰을 검증하고 통과하면 자원을 제공한다.
### 묵시적 승인 흐름
- 웹 브라우저 기반이지만 단일 페이지 웹 애플리케이션과 같이 클라이언트 시크릿을 안전하게 보호할 수 없는 클라이언트 애플리케이션을 대상으로 한다.
- 웹 브라우저는 **권한 부여 서버에서 권한 코드 대신 접근 토큰을 받는다.**
- **안정성이 낮아 재발급 토큰을 요청할 수 없다.** 
### 자원 소유자 암호 자격 증명 승인 흐름
- 클라이언트 애플리케이션이 웹 브라우저와 상호 작용할 수 없는 경우에 이 승인 흐름을 사용한다.
- 이 승인 흐름은 사용자는 자신의 자격 증명을 클라이언트 애플리케이션과 공유해야 하며, 클라이언트 애플리케이션은 이 자격 증명을 사용해 접근 토큰을 얻는다.
### 클라이언트 자격 증명 승인 흐름
- 클라이언트 애플리케이션이 특정 사용자와 관련 없는 API를 호출해야 하는 경우에 이 승인 흐름이 사용된다.
- 클라이언트는 자체 클라이언트 ID와 클라이언트 시크릿을 사용해 접근 토큰을 얻는다.

### [[RFC 7636?]]