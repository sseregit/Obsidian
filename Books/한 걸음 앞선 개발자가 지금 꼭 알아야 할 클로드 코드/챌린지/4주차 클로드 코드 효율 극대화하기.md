## 월: LLM 엔진 최적화와 컨텍스트 관리 (p.297~p.306)
## 1. LLM 엔진 최적화
- 복잡하고 고난이도의 문제 Opus
- 초기 설계나 중요 코드 리뷰 Sonnet
- 일상적 수정이나 대량 배치 작업 Haiku
- 학습/실험 단계 Sonnet
## 프롬프팅 전략과 사고 패턴
- CoT(Chain of Thought)
	- 문제를 단계별로 풀어나가도록 유도한다.
	- 디버깅, 최적화 같은 복잡한 원인 추적
	- 분석 보고서나 사고 과정 기록이 필요한 상황
- Sequential Thinking
	- Cot보다 한 발 더 나아가, 작업을 작은 단위로 쪼개고 각 단계를 독립적으로 확인하면서 진행하는 방식
	- 대규모 시스템 설계
	- 의존성이 많은 프로젝트 계획
- ToT(Tree of Throughts)
	- 단순히 한 경로만 따라가지 않고, 여러 가능성을 동시에 탐색하면서 최적의 답을 고르는 전략
	- 다양한 대안을 검토하고 선택하는 상황에서 강력하다.
	- 기술 선택, 아키텍처 의사결정
	- 복수의 솔루션을 비교 평가할 때
- Reflective Thinking
	- 한 번에 답을 내고 끝내지 않고, 자체 피드백을 거쳐 반복적으로 개선하는 방식
	- LLM이 스스로 산출물을 평가하고 수정하는 과정을 통해 품질이 점차 높아진다.
	- 코드 품질 개선, 리팩토링
	- 제품 설계안 검토 및 개선 사이클
## Ultra Thinking
- 문제의 복잡도가 감지되면 자동으로 활성화가 되거나 명시적으로 요청할 수 있다.

**`.claudeignore` 파일 활용**

## 2. 메모리 시스템 활용
- `.claude/memory/...파일`
	- `CLAUDE.md`에 해당 파일들을 참고하게 끔 정리하기.
---
# 화: 사용자 정의 명령어 만들기 (p.307~p.312)
## 사용자 정의 명령어의 이해
1. 명령어 시스템 아키텍처
2. 명령어 활용 예
	- `/<command-name> [arguments]`
		- `~/.claude/commands`
		- `.claude/commands`
	- 마크다운 형식
3. 프론트매터
	- YAML형식으로 작성되며 마크다운 파일의 최상단에 `---`로 구분되어 배치된다.
---
## 수: 클로드 코드 확장하기 (p.313~p.324)
## Hooks 시스템 이해하기
1. Hooks의 동작 및 설정

| 이벤트              | Matcher                                                                                                                          | 설명                                     | 활용 예                                                            |
| ---------------- | -------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------- | --------------------------------------------------------------- |
| PreToolUse       | - Task<br>- Bash<br>- Glob<br>- Grep<br>- Read<br>- Edit, MultiEdit<br>- Write<br>- WebFetch, WebSearch<br>- mcp_<server>_<tool> | Write, Edite 등의 도구가 사용 되기 직전에 실행       | - git commit이 되기 전 점검<br>- rm -rf 등 위험 작업을 차단<br>- 보안 데이터 접근 차단 |
| PostToolUse      | PreToolUse와 동일                                                                                                                   | Write, Edit 등의 도구가 사용된 직후에 실행          | - 파일 수정 후 후처리<br>- 자동 린팅 및 테스트                                  |
| Notification     |                                                                                                                                  | 알림이 실행될 때, 알림은 클로드에서 사용자의 입력을 요구할 때 발생 | 클로드가 사용자 입력을 기다린다는 알림을 서드파티 채널로 송신                              |
| UserPromptSubmit |                                                                                                                                  | 사용자 프롬프트가 입력될 때 실행                     | 프롬프트가 처리되기 직전에 추가적인 컨텍스트 주입                                     |
| Stop             |                                                                                                                                  | 클로드 에이전트가 종료될 때 실행                     | 세션 기록                                                           |
| SubagentStop     |                                                                                                                                  | 서브에이전트가 종료될 때 실행                       | 병렬 태스크 트래킹                                                      |
| PreCompact       | - manual<br>- auto                                                                                                               | 압축이 실행되기 직전에 실행                        | 압축 전 컨텍스트 백업                                                    |
| SessionStart     | - startup<br>- resume<br>- clear                                                                                                 | 새로운 세션이 시작될 때 실행                       | 개발 컨텍스트 자동 로딩                                                   |
| SessionEnd       | 세션이 종료될 때 실행                                                                                                                     | 임시 파일 삭제                               |                                                                 |
## 2. Output Style로 응답 방식 바꾸기
1. 내장 Output Style 활용
	- Default
		- 가장 기본적인 형태로 작업을 수행하고 간결한 응답을 합니다.
	- Explanatory
		- 작업 중간 중간에 Insigt를 통해 사용자에게 도움이 될 수 있는 설명들을 추가로 제공
		- 이를 통해 사용자는 클로드의 작업 내용을 좀 더 깊이 있게 이해할 수 있습니다.
	- Learning
		- 일종의 학습 모드
		- 단순히 명령한 작업을 수행하는것과 Insight를 제공하는 것을 넘어 사용자가 직접 수행하면 좋은 내용들을 TODO(human) 형태로 만들어 낸다.

---
## 목: 다양한 MCP 활용 전략 (p.325~p.344)
## Context7
- 훈련 데이터의 한계로 인해 최신 라이브러리나 프레임워크의 변경사항을 반영하지 못하는 경우가 많아 이 문제를 해결하기 위해 실시간으로 최신 문서를 가져와서 클로드 코드가 활용할 수 있게 해주는 서버

## Serena
- LSP(Language Server Protocol) 기반으로 하여 코드 베이스를 의미론적으로 분석하고 조작할 수 있게 해준다.
- 단순한 텍스트 기반 처리가 아닌, 실제 코드의 구조와 의존성을 이해하여 더 정확하고 효율적인 코드 작업을 가능하게 한다.
- 핵심 기능
	- 심볼 기반 코드 탐색
	- 참조 주적
	- 토큰 효율적 코드 읽기
	- 구조적 코드 수정
	- 메모리 시스템
- `--enable-web-dashboard false`
	- 옵션 추천 기동될 때마다 Serena 대시보드가 열린다.
- 크게 네 가지 기능
	- 파일/코드 조작
		- I/O + LSP 기반 분석
	- 메모리 관리:
		- 대화 맥락, 프로젝트 컨텍스트 유지
	- 시스템/프로젝트 관리
		- 환경 관리 및 실행
	- 자기 점검(Self-reflection)
		- 작업 프로세스 관리
- 토큰 절약!