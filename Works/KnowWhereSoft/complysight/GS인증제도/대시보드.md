# 보고서 제출율
- (당일 제출된 보고서 수 / **당일** 기준 점검된 횟수 * 100%)
# 수집커버리지
- (당일 정상 점검된 항목 / **당일** 기준 점검된 항목 총 갯수) * 100
# 유효 중적 충촉율
- (당일 정상 점검된 항목 / **당일** 기준 점검된 항목 총 갯수) * 100
	- 필수 항목, 일반 항목 추가시
		- (당일 필수 정상 점검된 항목 / **당일** 기준 필수 점검된 항목 총 갯수) * 100
# 중대미비/기한초과
- 중대미비
	- (당일 실패한 점검항목 수)
	- 필수 항목, 일반 항목 추가시
		- (당일 실패한 필수 점검항목 수)
- 기한초과
	- 0건
		- 마감일의 개념이 확실해질 때 적용
---
# 보고서 제출율, 수집커버리지, 유효증적 충촉율 막대 그래프
- 위의 데이터 활용
---
# 정보시스템별 등록한 서버점검 %
- N개의 정보시스템별 (당일 정상 점검된 정보시스템 항목 / **당일** 기준 점검된 정보시스템 항목 총 갯수) * 100
	- 0% 없음
	- 20% 미비
	- 80% 주의
	- 100% 완료
---
# 오류사항 정보 제공 추이
- 매일 N개의 정보시스템별 (실패한 항목 건 수)
	- 정보시스템별 색상을 다르게
---
# 보고서 제출 추이
- 매일 N개의 정보시스템별 (보고서 보고 갯수)
	- 정보시스템별 색상을 다르게
---

# SQL
- 당일 제출된 보고서 수
```sql
select count(1)
from asset_inspection_result
where submit_dtm is not null
  and report_content is not null
  and reg_dtm >= CURRENT_DATE
  and reg_dtm < CURRENT_DATE + INTERVAL '1 day'
group by contract_id, asset_id, grp_cd, report_type, version
```
- 당일 기준 점검된 횟수
```sql
select count(1)
from asset_inspection_result
WHERE reg_dtm >= CURRENT_DATE
  AND reg_dtm < CURRENT_DATE + INTERVAL '1 day'
group by contract_id, asset_id, grp_cd, report_type, version  
```
- 당일 정상 점검된 항목
```sql
select count(1)
from asset_inspection_result
where result = ‘true’
and reg_dtm >= CURRENT_DATE
and reg_dtm < CURRENT_DATE + INTERVAL '1 day'  
```
- 당일 기준 점검된 항목 총 갯수
```sql
select count(1)
from asset_inspection_result
where reg_dtm >= CURRENT_DATE
and reg_dtm < CURRENT_DATE + INTERVAL '1 day'  
```
- 당일 실패한 점검항목 수
```sql
select count(1)
from asset_inspection_result
where result = ‘false’
and reg_dtm >= CURRENT_DATE
and reg_dtm < CURRENT_DATE + INTERVAL '1 day'  
```
- 당일 정상 점검된 정보시스템 항목
```sql
-- 서버예시
select count(1)
from asset_inspection_result air
join inspection_code_group icg on icg.grp_cd = air.grp_cd
where icg = ‘SV’ -- {‘SV’ 서버, ‘WB’ WEB, ‘WS’ WAS, ‘DB’ DB} 각각 query를 날려야한다.
and result = ‘true’
and reg_dtm >= CURRENT_DATE
and reg_dtm < CURRENT_DATE + INTERVAL '1 day'  
```
-  당일 기준 점검된 정보시스템 항목 총 갯수
```sql
-- 서버예시
select count(1)
from asset_inspection_result air
join inspection_code_group icg on icg.grp_cd = air.grp_cd
where icg = ‘SV’ -- {‘SV’ 서버, ‘WB’ WEB, ‘WS’ WAS, ‘DB’ DB} 각각 query를 날려야한다.
and reg_dtm >= CURRENT_DATE
and reg_dtm < CURRENT_DATE + INTERVAL '1 day'  
```
---
- 매일 ex) 20251225 를 기준으로 계속 데이터를 쌓으면서 당일 데이터는 update 되어야 한다.
- 테이블 설계필요
