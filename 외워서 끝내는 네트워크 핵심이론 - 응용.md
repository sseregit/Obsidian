세 가지 네트워크 장치 구조
- Inline
	- Packet + Drop/Bypass + Filtering
	- 대표적으로 Router
- Out of path
	- Packet + Read only, Sensor
- **L3 -> Packet(MTU) -> Inline, Out of path**
- Proxy
	- Socket stream + Filtering
	- **User mode -> Application -> Proxy -> Socket + Stream** 
	- L5 ~ 7 커버

Inline
- 공유기, Router, Packet Firewall, IPS

Out of path
- 또 다른 의미 **Sensor**
- Sensor + 수집 장치
- 수집장치
	- L2 Port Mirroring (포트 미러링)
	- Tab Switch

Proxy 구조 (우회)
- **Proxy(Server) + Socket + Stream**
- Proxy서버가 외부에 있음.

Proxy 구조 (보호와 감시)
- Proxy서버가 내부에 있다.

Proxy 구조 (서버 보호)

PC에 설치하는 Proxy
- Proxy 구조 (Fiddler)
	-  HTTPS분석에 유용하다.

공유기 작동원리
- **NAT(Network Address Translation)** 기술이 적용된 장치
- Private IP(사설 주소)를 쓰는것이 NAT의 공유기 특징
- 포트까지 제어한다.
- 패킷 필터링 방화벽과 비슷한 보안성을 제공한다.
- PtoP를 사용할때 NAT공유기를 사용하고 있으면 방해를 받는다.

공유기 구조에 따른 분류
- Cone NAT
	- Host 단위로 외부포트 지정
- Symmetric NAT
	- TCP 세션 마다 외부 포트지정

공유기 네트워크 구성 예
- IPv4
	- Public == Global
	- Private
		- Internet에서 통용이 되는 주소가 아니다.5